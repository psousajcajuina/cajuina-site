backend:
  name: "github"
  repo: "psousajcajuina/cajuina-site"
  branch: "main"
  base_url: "https://oauth.crudbox.tech/oauth" # URL para autenticação

media_folder: "src/assets/images/blog"
public_folder: "assets/images/blog"

collections:
  - name: "categories"
    label: "Categorias"
    folder: "src/content/categorie"
    create: true
    fields:
      - { name: "title", label: "Nome da Categoria", widget: "string" }
      - { name: "color", label: "Cor", widget: "color", required: false }

  - name: "blog"
    label: "Blog"
    folder: "src/content/blog"
    create: true
    fields:
      - { label: "Layout", name: "layout", widget: "hidden", default: "blog" }
      - { label: "Título", name: "title", widget: "string", required: true }
      - {
          label: "Link de Acesso",
          name: "slug",
          widget: "string",
          required: true,
          hint: "Usado na URL. Exemplo: /blog/<link-de-acesso>",
        }
      - {
          label: "Descrição",
          name: "description",
          widget: "string",
          required: false,
        }
      - {
          label: "Imagem de Capa",
          name: "coverImage",
          widget: "image",
          required: false,
        }
      - {
          label: "Data de publicação",
          name: "publishedAt",
          widget: "datetime",
          default: "{{now}}",
          picker_utc: false,
        }
      # --- TAGS ---
      - {
          label: "Tags",
          name: "tags",
          widget: "list",
          allow_add: true,
          allow_delete: true,
          collapsed: false,
          field: { label: "Tag", name: "tag", widget: "string" },
        }
      # --- É RASCUNHO? ---
      - { label: "Rascunho", name: "draft", widget: "boolean" }
      # --- CATEGORIA ---
      - name: "categoria"
        label: "Categoria"
        widget: "select"
        options:
          - { label: "Notícia", value: "notice" }
          - { label: "Post", value: "post" }
        default: "post"
        required: true
      # --- CORPO DO POST ---
      - { label: "Conteúdo", name: "body", widget: "markdown" }
      # --- PREV ---
      - {
          name: "prev_post_title",
          label: "Título do Post Anterior",
          widget: "hidden",
          required: false,
        }
      - name: "prev_post_slug"
        label: "Post Anterior"
        widget: "relation"
        collection: "posts"
        search_fields: ["title"]
        value_field: "slug"
        display_fields: ["title"]
        required: false
      # --- NEXT ---
      - {
          name: "next_post_title",
          label: "Título do Próximo Post",
          widget: "hidden",
          required: false,
        }
      - name: "next_post_slug"
        label: "Próximo Post"
        widget: "relation"
        collection: "posts"
        search_fields: ["title"]
        value_field: "slug"
        display_fields: ["title"]
        required: false

  - name: "products"
    label: "Products"
    folder: "src/content/products"
    create: true
    fields:
      - {
          label: "Layout",
          name: "layout",
          widget: "hidden",
          default: "products",
        }
      - { label: "Nome", name: "title", widget: "string" }
      - { label: "Slug", name: "slug", widget: "string" }
      - { label: "Imagem do produto", name: "image", widget: "image" }
      - { label: "Descrição", name: "description", widget: "text", default: "" }
